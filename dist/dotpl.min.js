/*! dotpl 2015-05-12 */
!function(){function _diving(a,b){var c=a.split("."),d=0;do if(b=b[c[d++]],null==b)break;while(d<c.length&&"object"==typeof b);return b}function _applyMapTpl(a,b,c,d,e,f){var g=new RegExp(_opener+"([^"+_closer+"]+?)"+_closer,"ig"),h=a.replace(g,function(a,g){try{var h=_diving(g,b);if(h=null==h?"":h,"boolean"==typeof h)return h;var i=null;if(i="object"==typeof c?c.renderer:c,"function"==typeof i){var j=i.call(null==f?this:f,g,h,b,d,e);return null==j?h:j}return h}catch(k){throw new Error(g+(k.message||k))}});return h}function _request(a,b,c){var d=null;d=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),d.onreadystatechange=function(){if(4===d.readyState)try{b.call(this,d.responseText,d.status)}catch(a){throw a}};try{var e=(new Date).getTime();a+=-1===a.indexOf("?")?"?_="+e:"&_="+e,d.open("GET",a,!!c),d.setRequestHeader("If-Modified-Since","0"),d.setRequestHeader("Cache-Control","no-cache"),d.send()}catch(f){throw f}return d}function _applyTpl(tpl,data,renderer,pk,parent,thiz){var __regx=/<(tpl\d?)\s+([^>]+?)>([\s\S]+?)<\/\1>/gi;return __regx.test(tpl)&&(tpl=tpl.replace(__regx,function($0,$1,$2,$3){for(var output="",kv=null,attr={},__subg=/(\w+)\s*=\s*(['|"]{1})([^\2]+?)\2\s*/gi;null!=(kv=__subg.exec($2));)attr[kv[1].toLowerCase()]=kv[3];var forkey=attr["for"];if(null!=forkey){var arr=data;if("."!==forkey&&(arr=_diving(forkey,data)),"object"==typeof renderer&&renderer.beforeLoop&&(arr=renderer.beforeLoop.call(thiz||this,arr,forkey,pk,parent||data)),null!=arr&&arr.length>0)for(var i=0;i<arr.length;i++){var item={};"object"!=typeof arr[i]?item.__val=arr[i]:item=arr[i],item.__offset=i,"object"==typeof renderer&&renderer.skip&&renderer.skip.call(thiz||this,item,forkey,arr,pk,parent||data)||(output+=_applyTpl($3,item,renderer,forkey,data,thiz))}else null!=attr.emptytext&&(output=attr.emptytext)}else if(null!=attr["if"])try{var strflag=_applyTpl(attr["if"],data,renderer,pk,parent,thiz);if("string"==typeof strflag&&(strflag=eval("Boolean("+strflag+")")),strflag)return _applyTpl($3,data,renderer,pk,parent,thiz);null!=attr.emptytext&&(output=attr.emptytext)}catch(e){throw new Error(attr["if"]+(e.message||e))}return output})),_applyMapTpl(tpl,data,renderer,pk,parent,thiz)}var _opener="\\$\\{",_closer="\\}",dotpl={diving:_diving,applyTpl:_applyTpl,applyRTpl:function(a,b,c,d,e){_request(a,function(f,g){if(200!==g)throw new Error("Error "+g+":"+a);"object"==typeof d&&(e=d),c.call(null==e?this:e,_applyTpl(f,b,d,e))})},setDelimiters:function(a,b){_opener=a,_closer=b}},root=this,previous_dotpl=root.dotpl;"undefined"!=typeof module&&module.exports?module.exports=dotpl:root.dotpl=dotpl,dotpl.noConflict=function(){return root.dotpl=previous_dotpl,dotpl}}();